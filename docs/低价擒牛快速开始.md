# 低价擒牛 - 快速开始指南

## 🚀 5分钟上手

### 第一步：进入功能

1. 启动系统：`streamlit run app.py`
2. 在左侧菜单栏找到 **🎯 选股板块**
3. 点击 **🐂 低价擒牛**

### 第二步：开始选股

1. 调整筛选数量（默认5只，可调整3-10只）
2. 点击 **🚀 开始低价擒牛选股**
3. 等待30-60秒，系统自动获取数据

### 第三步：查看结果

系统会展示：
- ✅ 筛选数量和统计信息
- ✅ 精选股票详细列表
- ✅ 完整数据表格（可下载CSV）

### 第四步：接收通知（可选）

如果配置了钉钉Webhook，会自动收到消息通知

## 📊 选股策略一览

| 条件 | 值 |
|------|-----|
| 股价 | < 10元 |
| 净利润增长率 | ≥ 100% |
| 市场 | 深圳A股 |
| 排除 | ST、科创板、创业板 |
| 排序 | 成交额由小到大 |

## 🎯 量化策略参数

| 参数 | 值 |
|------|-----|
| 初始资金 | 100万元 |
| 持股周期 | 5天 |
| 最大持股数 | 4只 |
| 个股最大仓位 | 40% |
| 单日最大买入 | 2只 |
| 买入时机 | 开盘 |
| 卖出信号 | MA5下穿MA20 或 持股5天 |

## 🔧 配置Webhook通知（可选）

### 1. 获取钉钉机器人Webhook URL

1. 打开钉钉群 → 群设置 → 智能群助手
2. 添加机器人 → 自定义
3. 添加安全设置 → 自定义关键词：`aiagents通知`
4. 复制Webhook URL

### 2. 配置环境变量

编辑项目根目录的 `.env` 文件：

```bash
# Webhook通知配置
WEBHOOK_ENABLED=true
WEBHOOK_URL=https://oapi.dingtalk.com/robot/send?access_token=xxxxx
WEBHOOK_TYPE=dingtalk
WEBHOOK_KEYWORD=aiagents通知
```

### 3. 重启系统

配置完成后重启Streamlit即可

## 🎮 使用量化策略模拟

### 策略模拟（无需配置）

1. 完成选股后，在页面底部找到 **量化交易策略模拟**
2. 点击 **🎮 开始策略模拟**
3. 系统会展示：
   - 模拟买入信号
   - 当前持仓情况
   - 账户资金状态

### MiniQMT实盘（需要配置）

**前提条件**：
- 已安装MiniQMT客户端
- 已开通量化交易账户

**配置步骤**：
1. 编辑 `.env` 文件：
   ```bash
   MINIQMT_ENABLED=true
   MINIQMT_ACCOUNT_ID=your_account_id
   ```
2. 重启系统
3. 点击 **🔗 连接MiniQMT实盘**

## 📋 典型使用场景

### 场景1：每日早盘选股

**时间**：每天早上9:15-9:25

**操作**：
1. 打开低价擒牛功能
2. 开始选股，获取最新数据
3. 查看筛选结果
4. 开盘后根据买入信号下单

### 场景2：周末策略回测

**时间**：周末

**操作**：
1. 选股获取数据
2. 导出CSV文件
3. 使用Excel或Python进行历史数据分析
4. 优化策略参数

### 场景3：自动通知监控

**时间**：工作日定时

**操作**：
1. 配置Webhook
2. 设置定时任务（cron或Task Scheduler）
3. 每日自动选股并推送钉钉消息

## 💡 使用技巧

### 技巧1：成交额排序的意义
- 成交额小 = 市场关注度低 = 可能被低估
- 优先买入排名靠前的股票（成交额最小）

### 技巧2：持股周期管理
- 5天是一个交易周期
- 可在第3-4天关注卖出信号
- 避免持股到期临近时盲目持有

### 技巧3：仓位控制
- 建议新手先用小资金测试
- 逐步增加至策略设定的资金量
- 严格执行单股40%的仓位限制

### 技巧4：结合大盘走势
- 大盘上涨时：可适当激进
- 大盘下跌时：减少买入或观望
- 策略不能替代市场判断

## ⚠️ 常见问题

### Q: 为什么有时候筛选不到股票？
A: 可能原因：
- 市场环境不符合条件（如整体估值偏高）
- 净利润增长率≥100%的股票较少
- 建议适当放宽筛选条件

### Q: 钉钉通知没收到？
A: 检查清单：
- ✅ WEBHOOK_ENABLED 设置为 true
- ✅ WEBHOOK_URL 正确
- ✅ 钉钉机器人关键词包含"aiagents通知"
- ✅ 系统已重启

### Q: 策略模拟和实盘有什么区别？
A: 主要区别：
- 模拟：不实际下单，无手续费
- 实盘：真实下单，有滑点和手续费
- 建议先用模拟验证策略

### Q: 如何调整策略参数？
A: 当前版本参数固定在代码中，如需调整：
1. 编辑 `low_price_bull_strategy.py`
2. 修改 `__init__` 方法中的参数
3. 重启系统

## 📚 进阶阅读

- [低价擒牛功能说明](./低价擒牛功能说明.md) - 完整功能文档
- [Webhook配置指南](./Webhook通知配置指南.md) - 详细配置步骤
- [MiniQMT集成指南](./MINIQMT_INTEGRATION_GUIDE.md) - 量化交易配置

## 🎯 下一步

1. ✅ 熟悉基础选股功能
2. ✅ 配置钉钉通知
3. ✅ 使用策略模拟
4. ✅ 尝试MiniQMT实盘（谨慎）
5. ✅ 根据实际情况优化策略

---

**祝您投资顺利！** 🚀📈💰
